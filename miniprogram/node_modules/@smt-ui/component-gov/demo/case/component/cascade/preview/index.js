/**
 * @file index.js
 * @author swan
 * @date 2020-02-21
 */

Page({
    data: {
        multiArray: [[], [], []],
        array: [[{
            name: '太原市',
            value: 1
        }, {
            name: '大同市',
            value: 2
        }, {
            name: '吕梁市',
            value: 3
        }], [{
            name: '太原市',
            value: 1
        }, {
            name: '大同市',
            value: 2
        }, {
            name: '吕梁市',
            value: 3
        }], [{
            name: '太原市',
            value: 1
        }, {
            name: '大同市',
            value: 2
        }, {
            name: '吕梁市',
            value: 3
        }]]
    },

    change({detail}) {
        if (detail.value.length === 1) {
            let array = [];
            swan.showLoading({
                title: '正在加载...',
                mask: true
            });
            setTimeout(() => {
                switch (detail.value[0]) {
                    case 0:
                        array = [{
                                name: '北京市',
                                value: 1
                            }];
                        break;
                    case 1:
                        array = [{
                                name: '太原市',
                                value: 1
                            }, {
                                name: '大同市',
                                value: 2
                            }, {
                                name: '吕梁市',
                                value: 3
                            }];
                        break;
                    case 2:
                        array = [{
                                name: '哈尔滨市',
                                value: 1
                            }, {
                                name: '齐齐哈尔市',
                                value: 2
                            }, {
                                name: '大庆市',
                                value: 3
                            }];
                        break;
                    default:
                        break;
                }
                swan.hideLoading();
                this.data.multiArray[1] = array;
                this.setData('multiArray', this.data.multiArray);
            }, 500);
        }
        else if (detail.value.length === 2) {
            let area = [];
            swan.showLoading({
                title: '正在加载...',
                mask: true
            });
            setTimeout(() => {
                if (detail.value[0] === 0 && detail.value[1] === 0) {
                    area = [{
                            name: '海淀区',
                            value: 1
                        }, {
                            name: '大兴区',
                            value: 2
                        }, {
                            name: '朝阳区',
                            value: 3
                        }];
                }
                else if (detail.value[0] === 1) {
                    if (detail.value[1] === 0) {
                        area = [{
                            name: '小店区',
                            value: 1
                        }, {
                            name: '迎泽区',
                            value: 2
                        }, {
                            name: '杏花岭区',
                            value: 3
                        }];
                    }
                    else if (detail.value[1] === 1) {
                        area = [{
                            name: '南郊区',
                            value: 1
                        }, {
                            name: '新荣区',
                            value: 2
                        }, {
                            name: '阳高区',
                            value: 3
                        }];
                    }
                    else if (detail.value[1] === 2) {
                        area = [{
                            name: '孝义市',
                            value: 1
                        }, {
                            name: '离石市',
                            value: 2
                        }, {
                            name: '汾阳市',
                            value: 3
                        }];
                    }
                }
                else if (detail.value[0] === 2) {
                    if (detail.value[1] === 0) {
                        area = [{
                            name: '道里区',
                            value: 1
                        }, {
                            name: '南岗区',
                            value: 2
                        }, {
                            name: '太平区',
                            value: 3
                        }];
                    }
                    else if (detail.value[1] === 1) {
                        area = [{
                            name: '龙沙区',
                            value: 1
                        }, {
                            name: '建华区',
                            value: 2
                        }, {
                            name: '铁锋区',
                            value: 3
                        }];
                    }
                    else if (detail.value[1] === 2) {
                        area = [{
                            name: '龙凤区',
                            value: 1
                        }, {
                            name: '红岗区',
                            value: 2
                        }, {
                            name: '林甸县',
                            value: 3
                        }];
                    }
                }
                swan.hideLoading();
                this.data.multiArray[2] = area;
                this.setData('multiArray', this.data.multiArray);
            }, 500);
        }
    },

    onLoad() {
        let arr = [
            {
                name: '北京市',
                value: 1
            },
            {
                name: '山西省',
                value: 2
            },
            {
                name: '黑龙江省',
                value: 3
            }
        ];
        this.data.multiArray[0] = arr;
        this.setData('multiArray', this.data.multiArray);
    }
});
