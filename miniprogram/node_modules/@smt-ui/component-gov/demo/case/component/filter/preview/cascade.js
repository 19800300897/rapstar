/**
 * @file index.js
 * @author swan
 * @date 2020-02-21
 */

import area from './area.json';
import casData from './threeData.json';

Page({
    data: {
        expState: false,
        selText: '',
        selections: [
            {
                ...area,
                type: 'cascade',
                text: '两列',
                value: 'all'
            },
            {
                text: '两列去色',
                value: 'most',
                type: 'cascade',
                highlight: false,
                options: [
                    {
                        text: '默认选中',
                        children: [
                            {
                                text: '默认选中子选项',
                                value: 'most'
                            }
                        ]
                    },
                    {
                        text: '字数很多很多很多很多很多很多很多很多很多',
                        children: [
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '短',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            },
                            {
                                text: '子选项也字数很长长长长长长长长长长长长',
                                value: 'more'
                            }
                        ]
                    },
                    {
                        text: '少',
                        children: [
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            },
                            {
                                text: '1',
                                value: 'more'
                            }
                        ]
                    },
                    {
                        text: '没有子选项'
                    },
                    {
                        text: '其他1',
                        children: [
                            {
                                text: '其他1',
                                value: 'more'
                            },
                            {
                                text: '其他1',
                                value: 'more'
                            },
                            {
                                text: '其他1',
                                value: 'more'
                            },
                            {
                                text: '其他1',
                                value: 'more'
                            },
                            {
                                text: '其他1',
                                value: 'more'
                            },
                            {
                                text: '其他1',
                                value: 'more'
                            }
                        ]
                    },
                    {
                        text: '其他2',
                        children: [
                            {
                                text: '其他2',
                                value: 'more'
                            },
                            {
                                text: '其他2',
                                value: 'more'
                            },
                            {
                                text: '其他2',
                                value: 'more'
                            },
                            {
                                text: '其他2',
                                value: 'more'
                            },
                            {
                                text: '其他2',
                                value: 'more'
                            },
                            {
                                text: '其他2',
                                value: 'more'
                            }
                        ]
                    },
                    {
                        text: '其他3',
                        children: [
                            {
                                text: '其他3',
                                value: 'more'
                            },
                            {
                                text: '其他3',
                                value: 'more'
                            },
                            {
                                text: '其他3',
                                value: 'more'
                            },
                            {
                                text: '其他3',
                                value: 'more'
                            },
                            {
                                text: '其他3',
                                value: 'more'
                            },
                            {
                                text: '其他3',
                                value: 'more'
                            }
                        ]
                    },
                    {
                        text: '其他4',
                        children: [
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            }
                        ]
                    },
                    {
                        text: '其他4',
                        children: [
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            }
                        ]
                    },
                    {
                        text: '其他4',
                        children: [
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            }
                        ]
                    },
                    {
                        text: '其他4',
                        children: [
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            },
                            {
                                text: '其他4'
                            }
                        ]
                    }
                ]
            },
            {
                text: '等2秒',
                value: null,
                options: []
            },
            {
                type: 'cascade',
                text: '默认带入',
                value: '11110101000033398111',
                options: casData
            }
        ]
    },


    selHdl({detail}) {
        console.log('选中的： ', detail, detail.selection.text);
        this.setData('selText', detail.selection.text);
    },
    expandHdl({detail}) {
        this.setData('expState', detail.expand);
        console.log(detail.expand ? '展开' : '收起');
        // this.triggerEvent('expand', detail.expand);
    },
    fillback(e) {
        console.log('回填');
        const btn = e.currentTarget.dataset.btn;
        if (+btn === 1) {
            this.selectComponent('.filter-body').setValue(0, 3869);
        }
        else if (+btn === 2) {
            this.selectComponent('.filter-body').setValue(3, '11110101000033443B20');
        }
    },

    onLoad() {
        console.log('selections', this.data.selections);
        // 异步测试
        setTimeout(() => {
            const item = {
                ...this.data.selections[2],
                type: 'cascade',
                value: '11110101000033398111',
                options: casData
            };
            this.setData({
                'selections[2]': item
            });
            // this.data.selections.splice(2, 1, item);

        }, 2000);
    }
});
