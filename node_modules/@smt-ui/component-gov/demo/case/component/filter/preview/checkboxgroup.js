/**
 * @file index.js
 * @author swan
 * @date 2020-02-21
 */

Page({
    data: {
        expState: false,
        selText: '',
        selections: [
            {
                type: 'check-box-group',
                text: '初始有值',
                value: [5],
                options: [
                    {name: '视力', value: 1001},
                    {name: '听力', disabled: true, desc: '禁用不可点', value: 1002},
                    {name: '语言', value: 1003},
                    {name: '肢体', disabled: true, desc: '禁用不可点', value: 1004},
                    {name: '智力', value: 1005},
                    {name: '精神', value: 1006}
                ]
            },
            {
                text: '不高亮',
                value: [],
                type: 'check-box-group',
                highlight: false,
                options: [
                    {name: '主机', value: 1001},
                    {name: '显示器', value: 1002},
                    {name: '移动硬盘', value: 1003},
                    {name: '线', value: 1004},
                    {name: '金士顿固态硬盘', value: 1005},
                    {name: '技嘉钛合金狗眼', value: 1006},
                    {name: '键盘', value: 1007},
                    {name: '机械键盘'}
                ]
            },
            {
                text: '选项很多',
                value: [],
                type: 'check-box-group',
                options: [
                    {name: '主机', value: 1001},
                    {name: '显示器', value: 1002},
                    {name: '移动硬盘', value: 1003},
                    {name: '线', value: 1004},
                    {name: '金士顿钛合金狗眼', value: 1005},
                    {name: '技嘉游戏主板', value: 1006},
                    {name: '键盘', value: 1007},
                    {name: '机械键盘'},
                    {name: '内存条'},
                    {name: 'cpu'},
                    {name: '机箱'},
                    {name: '电源'},
                    {name: '水冷风扇'},
                    {name: '风扇'},
                    {name: '南桥北桥'},
                    {name: '光驱'}
                ]
            },
            {
                text: '两列',
                value: [],
                type: 'check-box-group',
                column: 2,
                options: [
                    {name: '主机', value: 1001},
                    {name: '显示器', value: 1002},
                    {name: '移动硬盘', value: 1003},
                    {name: '线', value: 1004},
                    {name: '金士顿钛合金狗眼照亮你的人生', value: 1005},
                    {name: '技嘉游戏主板', value: 1006},
                    {name: '键盘', value: 1007},
                    {name: '机械键盘'},
                    {name: '内存条'},
                    {name: 'cpu'},
                    {name: '机箱'},
                    {name: '电源'},
                    {name: '水冷风扇'},
                    {name: '风扇'},
                    {name: '南桥北桥'},
                    {name: '光驱'}
                ]
            }
        ]
    },

    selHdl({detail}) {
        console.log('选中的： ', detail, detail.selection.text);
        console.log('选中的： ', detail.selection);
        const {filterIdx, selection} = detail;
        console.log(selection);
        this.setData('selText', detail.selection.groupValue.map(({name}) => name));
        if (filterIdx === 0 && selection) {
            if (selection.value.length === 0) {
                console.log('selections: ', this.data.selections);
                this.setData('selections[0].value', []);
                // this.data.selections.splice(0, 0);
            }
        }

    },
    expandHdl({detail}) {
        this.setData('expState', detail.expand);
        console.log(detail.expand ? '展开' : '收起');
        // this.triggerEvent('expand', detail.expand);
    },
    fillback() {
        console.log('回填');
        this.selectComponent('.filter-body').setValue(0, 3869);
    },

    onLoad() {
        console.log('selections', this.data.selections);
    }
});
