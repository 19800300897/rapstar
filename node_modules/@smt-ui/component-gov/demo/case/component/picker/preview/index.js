/**
 * @file index.js
 * @author swan
 * @date 2020-02-21
 */

Page({
    data: {
        locationName: '',
        multiArray: [
            [
                {
                    name: '北京市',
                    value: 1
                },
                {
                    name: '山西省',
                    value: 2
                },
                {
                    name: '黑龙江省',
                    value: 3
                }
            ],
            [
                {
                    name: '海淀区',
                    value: 1
                },
                {
                    name: '大兴区',
                    value: 2
                },
                {
                    name: '朝阳区',
                    value: 3
                }
            ]
        ],
        multiIndex: []
    },

    change(e) {
        this.setData('multiIndex', e.detail.detail.value);
    },

    choosesuccess({detail}) {
        this.setData('locationName', detail.name);
    },

    columnChange(e) {
        let data = {
            multiArray: this.getData('multiArray'),
            multiIndex: this.getData('multiIndex')
        };
        data.multiIndex[e.detail.detail.column] = e.detail.detail.value;
        switch (e.detail.detail.column) {
            case 0:
                switch (data.multiIndex[0]) {
                    case 0:
                        data.multiArray[1] = [
                                {
                                    name: '海淀区',
                                    value: 1
                                },
                                {
                                    name: '大兴区',
                                    value: 2
                                },
                                {
                                    name: '朝阳区',
                                    value: 3
                                }
                            ];
                        break;
                    case 1:
                        data.multiArray[1] = [
                                {
                                    name: '吕梁市',
                                    value: 1
                                },
                                {
                                    name: '大同市',
                                    value: 2
                                },
                                {
                                    name: '太原市',
                                    value: 3
                                }
                            ];
                        break;
                    case 2:
                        data.multiArray[1] = [
                                {
                                    name: '黑河市',
                                    value: 1
                                },
                                {
                                    name: '哈尔滨市',
                                    value: 2
                                },
                                {
                                    name: '大连市',
                                    value: 3
                                }
                            ];
                        break;
                }
                data.multiIndex[1] = 0;
                break;
        }
        this.setData('multiArray', data.multiArray);
    }
});
