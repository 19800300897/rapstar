"use strict";

/**
 * @file 左图右文宫格
 * @author swan
 */

/* global Page, swan, getApp, getCurrentPages */
Component({
  /* eslint-enable */
  externalClasses: ['gov-grid-item', 'gov-inner-grid-item', 'gov-image-class', 'gov-title'],
  properties: {
    list: {
      type: Array,
      value: []
    },
    columnNum: {
      type: Number,
      value: 2
    },
    hasLine: {
      type: Boolean,
      value: true
    },
    borderRadius: {
      type: Number,
      value: 3
    },
    hasBorder: {
      type: Boolean,
      value: true
    },
    hasHover: {
      type: Boolean,
      value: true
    }
  },
  data: {
    imageWidth: '36.2',
    imageHeight: '36.2',
    bottomIndex: 0
  },
  attached: function attached() {
    var _this$properties = this.properties,
        list = _this$properties.list,
        columnNum = _this$properties.columnNum;
    var rows = list.length / columnNum;
    this.setData({
      bottomIndex: Math.floor(rows) === rows ? (rows - 1) * columnNum : Math.floor(rows) * columnNum
    });
  },
  methods: {
    onItemClick: function onItemClick(e) {
      var myEventDetail = {
        index: e.currentTarget.dataset.index
      };
      this.triggerEvent('itemclick', myEventDetail);
    }
  }
});