"use strict";

var _color = require("../../common/style/color");

/**
 * @file 文本宫格
 * @author swan
 */

/* global Page, swan, getApp, getCurrentPages */
Component({
  /* eslint-enable */
  externalClasses: ['gov-grid-item', 'gov-inner-grid-item', 'gov-top-title', 'gov-top-desc', 'gov-down-title', 'gov-down-desc'],
  properties: {
    list: {
      type: Array,
      value: []
    },
    columnNum: {
      type: Number,
      value: 2
    },
    titleOnTop: {
      type: Boolean,
      value: true
    },
    titleColor: {
      type: String,
      value: _color.COLOR_BLACK
    },
    hasLine: {
      type: Boolean,
      value: true
    },
    hasHover: {
      type: Boolean,
      value: true
    }
  },
  data: {
    bottomIndex: 0
  },
  attached: function attached() {
    var _this$properties = this.properties,
        list = _this$properties.list,
        columnNum = _this$properties.columnNum;
    var rows = list.length / columnNum;
    this.setData({
      bottomIndex: Math.floor(rows) === rows ? (rows - 1) * columnNum : Math.floor(rows) * columnNum
    });
  },
  methods: {
    onItemClick: function onItemClick(e) {
      var myEventDetail = {
        index: e.currentTarget.dataset.index
      };
      this.triggerEvent('itemclick', myEventDetail);
    }
  }
});