/**
 * @file index.js
 * @author LipengJia <jialipeng@baidu.com>
 * @date 2020-01-07
 */

/* global getCurrentPages */
import {systemInfo, preventRepeat, isIos} from '../../common/utils/index';

Component({
    externalClasses: [
        'gov-navigation-container',
        'gov-navigation-fixed',
        'gov-back-icon',
        'gov-title'
    ],

    properties: {
        // 标题
        title: {
            type: String,
            value: ''
        },

        // 显示底部border
        border: {
            type: Boolean,
            value: true
        },

        // 返回icon为主页
        homeIcon: {
            type: Boolean,
            value: getCurrentPages().length === 1
        }
    },

    data: {
        // 状态栏高度
        statusHeight: systemInfo.statusBarHeight,

        // navigation 高度
        navHeight: systemInfo.navigationBarHeight,

        isIos
    },

    methods: {
        backHdl() {
            preventRepeat(
                () => this.triggerEvent('back', {homeIcon: this.data.homeIcon})
            , 120);
        }
    }
});
