/**
 * @file 宫格
 * @author swan
 */
/* global Page, swan, getApp */

Component({
/* eslint-enable */
    extrnalClasses: [
        'gov-grid-item',
        'gov-inner-grid-item',
        'gov-title',
        'gov-desc'
    ],
    properties: {
        list: {
            type: Array,
            value: []
        },
        columnNum: {
            type: Number,
            value: 2
        },
        hasLine: {
            type: Boolean,
            value: true
        },
        borderRadius: {
            type: Number,
            value: 3
        },
        hasBorder: {
            type: Boolean,
            value: true
        },
        hasHover: {
            type: Boolean,
            value: true
        },
        isGridTight: {
            type: Boolean,
            value: false
        }
    },
    data: {
        imageWidth: '65.16',
        imageHeight: '65.16',
        bottomIndex: 0
    },
    attached: function () {
        let {list, columnNum} = this.properties;
        let rows = list.length / columnNum;
        this.setData({
            bottomIndex: Math.floor(rows) === rows ? (rows - 1) * columnNum : Math.floor(rows) * columnNum
        });
    },
    methods: {
        onItemClick(e) {
            let myEventDetail = {
                index: e.currentTarget.dataset.index
            };
            this.triggerEvent('itemclick', myEventDetail);
        }
    }
});
